(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{173:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),a("p",[t._v("1.Contenteditable：规定元素内容是否可编辑。如果元素未设置 contenteditable 属性，那么元素会从其父元素继承该属性。")]),t._v(" "),t._m(4),a("p",[t._v("2.Draggable ：dom元素是否可拖拽")]),t._v(" "),t._m(5),a("p",[t._v("3.Hidden ：dom元素隐藏，就是靠display：none实现的")]),t._v(" "),t._m(6),a("p",[t._v("4.Contextmenu  为元素设定快捷菜单（目前无浏览器支持 contextmenu 属性。 ）\n5.data-val 自定义属性:只能通过getAttribute来获取自定义属性")]),t._v(" "),t._m(7),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),a("p",[t._v("通过e.target获取被拖拽的dom元素，从而实现对dom的操作")]),t._v(" "),t._m(12),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/drag.png"),alt:"drag"}}),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),a("p",[t._v("FileReader 用于读取文件：abort() 终止读取")]),t._v(" "),t._m(16),t._m(17),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Canvas应用场景")]),t._v(" "),a("p",[t._v("游戏、图表"),a("a",{attrs:{href:"https://echarts.baidu.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://echarts.baidu.com/)"),a("OutboundLink")],1),t._v("、动画、HTML5 动效"),a("a",{attrs:{href:"https://codepen.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://codepen.io/"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("初始化")]),t._v(" "),t._m(18),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/canvas1.png"),alt:"canvas1"}}),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/canvas2.png"),alt:"canvas2"}}),t._v(" "),t._m(29),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/canvas3.png"),alt:"canvas3"}}),t._v(" "),t._m(30),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/canvas4.png"),alt:"canvas4"}}),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/canvas5.png"),alt:"canvas5"}}),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/canvas6.png"),alt:"canvas6"}}),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/canvas7.png"),alt:"canvas7"}}),t._v(" "),t._m(31),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/canvas8.png"),alt:"canvas8"}}),t._v(" "),t._m(32),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/canvas9.png"),alt:"canvas9"}}),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/canvas10.png"),alt:"canvas10"}}),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/canvas11.png"),alt:"canvas11"}}),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),t._m(41),t._v(" "),a("p",[t._v("直线：x1 y1是起始点坐标 x2 y2是终止点坐标 要想看到线要在css里写stroke=“red”")]),t._v(" "),t._m(42),t._v(" "),a("p",[t._v("矩形：x y矩形左上角的坐标 rx ry圆角 封闭路径自动填充")]),t._v(" "),t._m(43),t._v(" "),a("p",[t._v("圆形：r 半径 cx cy 圆心")]),t._v(" "),t._m(44),t._v(" "),a("p",[t._v("椭圆：rx ry 半径 cx cy 圆心")]),t._v(" "),t._m(45),t._v(" "),a("p",[t._v("折线：")]),t._v(" "),t._m(46),t._v(" "),a("p",[t._v("多边形")]),t._v(" "),t._m(47),t._v(" "),a("p",[t._v("⽂本")]),t._v(" "),t._m(48),t._v(" "),t._m(49),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/svg1.png"),alt:"svg1"}}),t._v(" "),t._m(50),t._v(" "),t._m(51),t._v(" "),t._m(52),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("渐变")]),t._v(" "),a("p",[t._v("线性渐变：x1 y1--起始点 x2 y2---终止点 offset到哪个位置style设置为什么颜色"),a("br"),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/svg2.png"),alt:"svg2"}})]),t._v(" "),a("p",[t._v("径向渐变\n"),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/svg3.png"),alt:"svg3"}})]),t._v(" "),a("p",[t._v("高斯滤镜")]),t._v(" "),t._m(53),t._v(" "),a("p",[t._v("其他滤镜-----http://www.w3school.com.cn/svg/svg_filters_intro.asp")])]),t._v(" "),t._m(54),t._v(" "),t._m(55),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/svg4.png"),alt:"svg4"}}),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/svg5.png"),alt:"svg5"}}),t._v(" "),t._m(56),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/svg6.png"),alt:"svg6"}}),t._v(" "),t._m(57),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.w3school.com.cn/html5/html5_ref_audio_video_dom.asp",target:"_blank",rel:"noopener noreferrer"}},[t._v("w3c教程"),a("OutboundLink")],1)]),t._v(" "),t._m(58),t._v(" "),t._m(59),t._v(" "),t._m(60),t._v(" "),t._m(61),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("设置属性")]),t._v(" "),a("p",[t._v("可以用setAttribute和. 属性名两种方法\n"),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/video1.png"),alt:"video1"}})]),t._v(" "),a("p",[t._v("audio．volume 表示播放音量，介于0(静音)~1(最大音量)之间，默认1。"),a("br"),t._v('\naudio．muted 将muted属性设置为true则会进入静音模式，设置为false则会恢复之前指定的音量继续播放。\naudio．playbackRate 用于指定媒体播放的速度。该属性值为1.0表示正常速度，大于1则表示”快进”，0~1之间表示”慢放"，负值表示回放。每个浏览器实现的会有差别，具体看浏览器实现。（可以实现快进和慢放）'),a("br"),t._v("\naudio．currentTime 设置或返回音频/视频播放的当前位置 单位 秒"),a("br"),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/video2.png"),alt:"video2"}})]),t._v(" "),a("p",[t._v("audio．duration 返回当前音频/视频的时长(window.onload) 单位 秒"),a("br"),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/video3.png"),alt:"video3"}})]),t._v(" "),a("p",[t._v("audio．played 属性返回已经播放(看过)的时间段，"),a("br"),t._v("\naudio．buffered 属性返回当前已经缓冲的时间段，"),a("br"),t._v("\naudio．seekable 属性则返回用户可以跳转的时间段。"),a("br"),t._v("\n这三个属性都是TimeRanges对象，每个对象都有一个length属性以及start()和end()方法，length属性表示当前的一个时间段，start()与\nend()分别返回当前时间段的起始时间点和结束时间点(单位是秒，起始参数是0)应用: 确定当前缓存内容的百分比\n"),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/video4.png"),alt:"video4"}})]),t._v(" "),t._m(62)]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("方法")]),t._v(" "),a("p",[t._v("audio．play() 方法"),a("br"),t._v("\naudio．pause() 方法"),a("br"),t._v("\naudio．load()方法 重新加载视音频，用于在更改来源或其他设置后对音视频元素进行更新"),a("br"),t._v("\naudio．canPlayType() 判断浏览器是否支持该格式"),a("br"),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/video5.png"),alt:"video5"}})])]),t._v(" "),t._m(63),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/video6.png"),alt:"video6"}}),t._v(" "),t._m(64),t._v(" "),t._m(65),t._v(" "),t._m(66),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/requestAnimationFrame.png"),alt:"requestAnimationFrame"}}),t._v(" "),a("p",[t._v("兼容性写法")]),t._v(" "),t._m(67),t._m(68),t._v(" "),t._m(69),t._v(" "),t._m(70),t._v(" "),t._m(71),t._v(" "),a("p",[t._v("读取方式：")]),t._v(" "),t._m(72),t._v(" "),a("p",[t._v("存储有效期")]),t._v(" "),t._m(73),t._v(" "),a("p",[t._v("存储作用域")]),t._v(" "),t._m(74),t._v(" "),a("p",[t._v("属性")]),t._v(" "),t._m(75),t._v(" "),a("p",[t._v("Cookie和storage的区别"),a("br"),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/Storage.png"),alt:"Storage"}})]),t._v(" "),t._m(76),t._v(" "),t._m(77),t._v(" "),t._m(78),t._v(" "),t._m(79),t._v(" "),t._m(80),t._v(" "),a("ol",[t._m(81),t._v(" "),a("li",[a("p",[t._v("应用"),a("br"),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/worker.png"),alt:"worker"}})])]),t._v(" "),t._m(82),t._v(" "),t._m(83),t._v(" "),t._m(84)]),t._v(" "),t._m(85),t._v(" "),t._m(86),t._v(" "),t._m(87),t._v(" "),t._m(88),a("p",[t._v("点击按钮上传一个文件后，在控制台打印input.files，如下："),a("br"),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/FileReader2.png"),alt:"FileReader2"}}),a("br"),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/FileReader3.png"),alt:"FileReader3"}}),a("br"),t._v("\n可以发现input.files是一个数组，由传入的file对象组成。每个file对象包含以下属性："),a("br"),t._v("\nlastModified：数值，表示最近一次修改时间的毫秒数；"),a("br"),t._v("\nlastModifiedDate：对象，表示最后一次表示最近一次修改时间的Date对象（高程中说是字符串，根据上图可看出应该为对象，为了层级清晰未对其展开，大家可自行查看，其可调用Date对象的有关方法，例如getDay方法）；"),a("br"),t._v("\nname：本地文件系统中的文件名；"),a("br"),t._v("\nsize：文件的字节大小；"),a("br"),t._v("\ntype：字符串，文件的MIME类型；"),a("br"),t._v("\nweblitRelativePath：此处为空；当在input上加上webkitdirectory属性时，用户可选择文件夹，此时weblitRelativePath表示文件夹中文件的相对路径。比如：")]),t._v(" "),t._m(89),a("p",[t._v("点击按钮添加一个包含3个文件的名为php的文件夹后，控制台打印inputBox.files，如下：\n"),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/FileReader4.png"),alt:"FileReader4"}}),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/FileReader5.png"),alt:"FileReader5"}}),a("br"),t._v("\n可看出，此时weblitRelativePath表示当前file对象的文件在文件夹中的路径。"),a("br"),t._v("\n以上file对象只获取到了对文件的描述信息，但没有获得文件中的数据，而inputBox.value也只是保存的是文件的绝对路径（这里就不展示了，大家可以自己试一试）。我们可以通过html5提供的FileReader读取到文件中的数据。"),a("br"),t._v("\n首先创建一个FileReader实例：")]),t._v(" "),t._m(90),t._m(91),t._v(" "),t._m(92),t._v(" "),t._m(93),a("p",[t._v("控制台为当前所传文件的base64编码表示。由于媒体文件的src属性，可以通过采用网络地址或base64的方式显示，因此我们可以利用readAsDataURL实现对图片的预览。")]),t._v(" "),t._m(94),a("p",[t._v("如上，只需将读取的结果赋给图片的src属性，即可预览图片："),a("br"),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/FileReader6.png"),alt:"FileReader6"}}),a("br"),t._v("\nreadAsText(file,encoding)可按指定编码方式读取文件，但读取文件的单位是字符，故对于文本文件，只要按规定的编码方式读取即可；而对于媒体文件（图片、音频、视频），其内部组成并不是按字符排列，故采用readAsText读取，会产生乱码，因此不是最理想的读取文件的方式。")]),t._v(" "),t._m(95),t._v(" "),t._m(96),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/FileReader7.png"),alt:"FileReader7"}}),t._v(" "),t._m(97),t._v(" "),t._m(98),t._v(" "),t._m(99),t._v(" "),t._m(100),t._v(" "),t._m(101),t._v(" "),a("img",{staticStyle:{margin:"10px auto"},attrs:{src:t.$withBase("/H5/websocket1.png"),alt:"websocket1"}}),t._v(" "),t._m(102),t._v(" "),t._m(103),t._v(" "),t._m(104),a("p",[t._v("以上代码中的第一个参数 url, 指定连接的 URL。第二个参数 protocol 是可选的，指定了可接受的子协议。")]),t._v(" "),t._m(105),t._v(" "),t._m(106),t._v(" "),t._m(107),t._v(" "),t._m(108),t._m(109),t._v(" "),t._m(110)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"html5学习笔记"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#html5学习笔记","aria-hidden":"true"}},[this._v("#")]),this._v(" HTML5学习笔记 📑")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"html5新增标签"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#html5新增标签","aria-hidden":"true"}},[this._v("#")]),this._v(" HTML5新增标签")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("1.Header、Footer、Article（div）、Section（p）、Nav、Aside这六个标签只是为了语义化更好，功能类似div，Section更像p标签"),s("br"),this._v("\n2.Svg 、Canvas是绘图标签"),s("br"),this._v("\n3.Audio、Video音频与视频标签"),s("br"),this._v("\n4.自定义标签: 行级元素")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"html5新增属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#html5新增属性","aria-hidden":"true"}},[this._v("#")]),this._v(" HTML5新增属性")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div contenteditable"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div draggable"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div hidden"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("my"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"asd"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" div "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementsByTagName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dataval "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" div"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data-my'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dataval"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"拖放"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拖放","aria-hidden":"true"}},[this._v("#")]),this._v(" 拖放")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("属性")]),this._v(" "),s("p",[this._v("draggable： auto | true | false")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("拖动事件")]),this._v(" "),s("p",[this._v("dragstart → 在元素开始被拖动时触发"),s("br"),this._v("\ndragen → 在拖动操作完成时触发"),s("br"),this._v("\ndrag → 在元素被拖动时触发")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("释放区事件：")]),this._v(" "),s("p",[this._v("dragenter → 被拖动元素进入到释放区所占据得屏幕空间时触发"),s("br"),this._v("\ndragover → 当被拖动元素在释放区内移动时触发（默认事件会阻止drop事件）"),s("br"),this._v("\ndragleave → 当被拖动元素没有放下就离开释放区时触发"),s("br"),this._v("\ndrop → 当被拖动元素在释放区里放下时触发")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("dataTransfer")]),this._v(" "),s("p",[this._v("返回用于传输数据到释放区的对象---就是dragstart传出数据，到drop里才能取数据")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",[s("code",[this._v('①传值\n    e.dataTransfer.setData("data",e.target.id)\n    拖拽事件时，传值第一个参数是“名”，第二个参数是值（可以传id值，从而实现DOM结构的改变）。\n②取值\n    e.dataTransfer.getData("data")\n    查看传的值。\n')])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("使用拖拽上传文件")]),s("br"),this._v("\n上传文件")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("ele"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dragover'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("preventDefault")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//取消默认事件，drop才能触发。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nele"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'drop'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n    e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("preventDefault")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//调用 preventDefault() 来避免浏览器对数据的默认处理（drop 事件的默认行为是以链接形式打开）")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" dt "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataTransfer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" files "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("files"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//取到被拖拽元素的信息。")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("files"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//通过不同的方式读取文件  ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readAsBinaryString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 将文件读取为二进制编码\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readAsDataURL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 将文件读取为DataURL编码\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readAsText")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("encoding"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 将文件读取为文本\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readAsArrayBuffer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 将文件读取为arraybuffer\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//读取中的事件")]),t._v("\nonloadstart 读取开始时触发\nonprogress 读取中\nonloadend 读取完成触发，无论成功或失败\nonload 文件读取成功完成时触发\nonabort 中断时触发\nonerror 出错时触发\n获取读取的结果\nfr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"canvas画布"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#canvas画布","aria-hidden":"true"}},[this._v("#")]),this._v(" canvas画布")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" 创建画布 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("canvas id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"canv"')]),t._v(" width"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"300"')]),t._v(" height"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"300"')]),t._v(" style"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"border:1px solid black;"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("canvas"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" oCanvas "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'canv'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//找到画布")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" oPen "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oCanvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2d'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//找到画笔 ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("设置画布宽高注意事项")]),t._v(" "),a("p",[t._v("Canvas元素默认宽 300px, 高 150px, 设置其宽高可以使用如下方法：\n方法一：")]),t._v(" "),a("pre",[a("code",[t._v('<canvas width="500" height="500"></canvas>\n')])]),t._v(" "),a("p",[t._v("方法二：")]),t._v(" "),a("pre",[a("code",[t._v("var canvas = document.getElementById('欲操作canvas的id');\ncanvas.width = 500;\ncanvas.height = 500;\n")])]),t._v(" "),a("p",[t._v("若通过如下方法设置宽高，那么Canvas元素将由原来大小被拉伸到所设置的宽高：\n方法一：使用CSS 会被拉伸")]),t._v(" "),a("pre",[a("code",[t._v("#欲操作canvas的id｛\n    width:1000px;\nheight:1000px;\n｝\n")])]),t._v(" "),a("p",[t._v('也包含了行间样式中的 style="" 。也就是上面的例子，也会产生拉伸的情况。\n方法二：使用HTML5 Canvas API操作 会被拉伸')]),t._v(" "),a("pre",[a("code",[t._v('var canvas = document.getElementById(\'欲操作canvas的id\');\ncanvas.style.width = "1000px";\ncanvas.style.height = "1000px";\n')])]),t._v(" "),a("p",[t._v('方法三 ：用jquery的$("#id").width(500);会被拉伸\n其它：canvas的width和height也不能用百分比表示。canvas会将百分值当成数值显示')])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("绘制线段")]),t._v(" "),a("p",[t._v("oPen.moveTo(x, y);  移动到 x，y坐标点（画笔的起始点）"),a("br"),t._v("\noPen.lineTo(x, y); 从当前点绘制直线到x，y点（画笔想移动到哪一点）"),a("br"),t._v("\noPen.lineWidth  = 20; 设置线段宽度（画笔粗细）"),a("br"),t._v("\noPen.closePath();  闭合当前路径  和回到起始点的区别"),a("br"),t._v("\noPen.fill();  填充"),a("br"),t._v("\noPen.stroke();  描边（按照路径移动画笔，是渲染页面，必须在一段线画完后再写，即上面的方法应该都在这个方法前写）"),a("br"),t._v("\noPen.beginPath() 完成一条路径后要重新开始另一条路径时必须使用beginPath()方法")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("绘制矩形")]),this._v(" "),s("p",[this._v("ctx.rect(x, y, dx, dy) x y 是画矩形的起始点，是矩形的左上角，dx dy是宽高，"),s("br"),this._v("\nctx.fillRect(x, y, dx, dy) 参数与上面的意义一样，就是这方法直接填充"),s("br"),this._v("\nctx.strokeRect(x, y, w, h) 参数与上面的意义一样，就是这方法直接描边"),s("br"),this._v("\nctx.clearRect(x, y, dx, dy) 参数与上面的意义一样，相当于橡皮，擦除矩形;")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("绘制弧形")]),this._v(" "),s("p",[this._v("ctx.arc(x, y, r, 起始角度, 结束角度, 弧形的方向 ) x y 是圆心，r是半径，方向是--\x3e 0顺时针 1逆时针 度数使用------\x3e2 * Math.PI = 360度")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" oCanvas "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'canv'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//找到画布")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ctx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oCanvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2d'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//找到画笔")]),t._v("\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("moveTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("120")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//绘制起始点，便于控制图形闭合")]),t._v("\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("arcTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//绘制100、120至100、200这条线和100、200至200、200这条线的圆角")]),t._v("\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("arcTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//绘制100、200至200、200这条线和200、200至200、100这条线的圆角")]),t._v("\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("arcTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("arcTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ctx.arcTo(100,200,200,200,20);//如果不用moveto，用这个图形难以闭合 ")]),t._v("\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stroke")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("贝塞尔曲线")]),this._v(" "),s("p",[this._v("ctx.quadraticCurveTo(x1, y1,ex,ey ) 二次贝塞尔曲线       x1,y1 控制点       ex,ey 结束点"),s("br"),this._v("\nctx.bezierCurveTo(x1, y1, x2, y2, ex, ey) 三次贝塞尔曲线      x1,y1，x2,y2 控制点      ex,ey 结束点")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("坐标轴转换")]),t._v(" "),a("p",[t._v("ctx.translate(dx, dy)   重新映射画布上的 (0,0)坐标位置"),a("br"),t._v("\nctx.scale(sx, sy)   缩放当前绘图"),a("br"),t._v("\nctx. rotate(Math.PI)    旋转当前的绘图"),a("br"),t._v("\nctx.save() restore()        保存当前图像状态的一份拷贝(保存画布状态）      从栈中弹出存储的图形状态并恢复"),a("br"),t._v("\nctx. setTransform(a, b, c, d, e, f) 先重置再变换      参数：水平缩放、水平倾斜、垂直倾斜、垂直缩放、水平移动、垂直移动"),a("br"),t._v("\nctx.transform(a, b, c, d, e, f) 在之前的基础上变换")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("填充图案")]),this._v(" "),s("p",[this._v('ctx.createPattern(image,"repeat|repeat-x|repeat-y|no-repeat") 第一个参数可以填写：img元素（Image对象），canvas元素，video元素(有图形的) 第二个参数关于重复的设置'),s("br"),this._v("\n填充的图案没有定位")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("渐变")]),this._v(" "),s("p",[this._v("ctx.createLinearGradient(x1, y1, x2, y2); 线性渐变 必须在填充渐变的区域里定义渐变, 否则 没有效果 x1, y1 起始点 x2, y2终止点"),s("br"),this._v("\nctx.createRadialGradient(x1, y1, r1, x2, y2, r2); 径向渐变"),s("br"),this._v("\nbg.addColorStop(p, color) 第一个参数是百分比从0 - 1 第二个参数是颜色")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("阴影")]),this._v(" "),s("p",[this._v("ctx.shadowColor 阴影颜色"),s("br"),this._v("\nctx.shadowOffsetX 阴影水平偏移量"),s("br"),this._v("\nctx.shadowOffsetY 阴影垂直偏移量"),s("br"),this._v("\nctx.shadowBlur 阴影模糊半径"),s("br"),this._v("\n注：这里的阴影偏移量不受坐标系变换的影响")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("文本")]),this._v(" "),s("p",[this._v("ctx.fillText()"),s("br"),this._v("\nctx.strokeText()"),s("br"),this._v("\nctx.measureText('hello world') 了解")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("线段样式")]),this._v(" "),s("p",[this._v("1.lineCap"),s("br"),this._v("\n2.lineJoin"),s("br"),this._v("\nctx.miterLimit 当lineJoin是miter时，用于控制斜接部分的长度 如果斜接长度超过 miterLimit 的值，变成bevel 注:实际运算是大于limit*lineWidth/2的值，了解就好")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("裁剪")]),this._v(" "),s("p",[this._v("ctx.clip()；当前路径外的区域不再绘制 裁剪的是画布"),s("br"),this._v("\n注：可在clip() 前用 save() 方法保存，后续通过 restore() 方法恢复")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("合成")]),this._v(" "),s("p",[this._v("ctx.globalCompositeOperation = 'source-over' 新像素和原像素的合并方式"),s("br"),this._v("\n11种值  默认 source-over w3c标准 常用 source-over, destination-over, copy")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("全局透明度")]),this._v(" "),s("p",[this._v("ctx.globalAlpha = '0.5'; 只能作用到这个方法下面的元素")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("绘制图片")]),t._v(" "),a("p",[t._v("ctx.drawImage();   第一个参数是(Image或 canvas) 注：onload注意要全部加载完"),a("br"),t._v("\n写3个参数时  (x, y) 起始点坐标"),a("br"),t._v("\n写5个参数 (x, y, dx, dx)      起始点坐标及图片所存区域的宽高"),a("br"),t._v("\n写9个参数 (x1, y1, dx1, dy1, x2, y2, w2, h2)      前四个为所绘制目标元素"),a("br"),t._v("\n的起始点和宽高（就是截取图片的哪一部分用来展示） 后四个为canvas"),a("br"),t._v("\n绘制的起始点和大小（与5个参数的后四个一样）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("将canvas内容导出")]),this._v(" "),s("p",[this._v("canvas.toDataURL() ; 是canvas自身的方法不是(ctx)上下文对象"),s("br"),this._v("\n将canvas的内容抽取成⼀张图片, base64编码格式"),s("br"),this._v("\n注：同源策略的限制（开启服务器）"),s("br"),this._v("\n将canvas的内容放入img元素里")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("获取canvas像素信息")]),this._v(" "),s("p",[this._v("ctx.getImageData(x, y, dx, dy) // 同源策略 取到的data值是数组，是每个像素的信息 注：\n每像素由rgba四个参数组成"),s("br"),this._v("\nctx.createImageData(w, h) 创建新的空白 ImageData 对象 一般不用"),s("br"),this._v("\nctx.putImageData(imgData, x, y)  将图像数据放回画布上 可以利用ctx.getImageData"),s("br"),this._v("\n取到像素信息进行更改，再用这个方法把新的数据放回画布\n上，（就是对图像调色）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("命中检测（检测点是否在路径内）")]),this._v(" "),s("p",[this._v("ctx.isPointInPath(x, y)；检测是否在区域内,chrome 与其他的区别  如果当前路径不是闭合路径谷歌浏览器会返回false"),s("br"),this._v("\nctx.isPointInStroke(x, y)；检测是否在线上"),s("br"),this._v("\n还可以通过检测当前点的像素值，如果为透明，则该点不再路径上")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("如何解决canvas高分变率的屏幕模糊问题")]),this._v(" "),s("p",[this._v("在分辨率比较高的屏幕，例如ip6/6s/mac等机器上，因为canvs绘制的是位图，所以会导致模糊，解决方法是根据屏幕分辨率修改canvas样式代码中的宽和高与canvas的width和height属性的比例")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"svg矢量图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#svg矢量图","aria-hidden":"true"}},[this._v("#")]),this._v(" SVG矢量图")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("应用场景")]),this._v(" "),s("p",[this._v("图表、图标 icon（主要实现图标）、动效、矢量图")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("使用")]),this._v(" "),s("pre",[s("code",[this._v("<svg width=“500px” height=“500px”> //与canvas一样宽高要定义在行间\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",[s("code",[this._v('<line x1="100" y1="100" x2="200" y2="100"></line>\n')])])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",[s("code",[this._v('<rect x="50" y="50" width="100" height="100" rx="10"ry="20"></rect>\n')])])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",[s("code",[this._v('<circle r="50" cx="220" cy="100"></circle>\n')])])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",[s("code",[this._v('<ellipse rx="100" ry="50" cx="400" cy="150"></ellipse>\n')])])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",[s("code",[this._v('<polyline points="60 50, 75 35, 100 50, 125 35, 150 50,175 35, 190 50"></polyline>\n')])])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",[s("code",[this._v('<polygon points="125 125,130 140,120 140"></polygon>\n')])])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",[s("code",[this._v('<text x="125" y="220">hello,world</text>\n')])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("样式：css里的svg标签属性")]),t._v(" "),a("p",[t._v("fill 填充"),a("br"),t._v("\nstroke 描边"),a("br"),t._v("\nstroke-width 线宽"),a("br"),t._v("\nstroke-opacity/fill-opacity 透明度"),a("br"),t._v("\nstroke-linecap 线两端的样式"),a("br"),t._v("\nstroke-linejoin 两线之间的连接样式"),a("br"),t._v("\nstroke-miterlimit miter样式中，超过这个值就截断")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Path元素")]),t._v(" "),a("p",[t._v("M指令和L指令")]),t._v(" "),a("pre",[a("code",[t._v('<path d = "M 10 10 L 20 10" />  \n')])]),t._v(" "),a("p",[t._v("m指令和l指令")]),t._v(" "),a("pre",[a("code",[t._v('<path d = "m 10 10 l 20 10" />  \n')])]),t._v(" "),a("p",[t._v("大写表示绝对定位，小写表示相对定位"),a("br"),t._v("\n绝对坐标和相对坐标  相对于上一个移动距离"),a("br"),t._v("\nH和V命令")]),t._v(" "),a("pre",[a("code",[t._v('<path d="M 100 100 H 200 V 200"/>  \n')])]),t._v(" "),a("p",[t._v("水平（horizontal lineto）竖直（vertical lineto）方向移动距离"),a("br"),t._v("\nZ命令")]),t._v(" "),a("pre",[a("code",[t._v('<path d="M 100 100 H 200 V 200 z"/>  \n')])]),t._v(" "),a("p",[t._v("注：闭合 Z不区分大小写")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("圆弧指令")]),t._v(" "),a("pre",[a("code",[t._v('<path d="M 100 100 A 70 120 90 1 1 150 200"></path>\n')])]),t._v(" "),a("p",[t._v("A命令  (elliptical Arc)  七个参数"),a("br"),t._v("\nrx ry x-axis-rotation large-arc-flag sweep-flag x y"),a("br"),t._v("\nrx ry 圆弧的x轴半径和y轴半径"),a("br"),t._v("\nx-axis-rotation 圆弧相对x轴的旋转角度，默认是顺时针，可以设置负值"),a("br"),t._v("\nlarge-arc-flag 表示圆弧路径是大圆弧还是小圆弧 1大圆弧"),a("br"),t._v("\nsweep-flag 表示从起点到终点是顺时针还是逆时针，1表示顺时针，0表示逆时针"),a("br"),t._v("\nx y 表示终点坐标，绝对或相对")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("贝塞尔曲线：自动生成路径——>http://editor.method.ac/")]),this._v(" "),s("p",[this._v("二次贝塞尔: Q x1 y1, x y 关键点 T x y 扩展点"),s("br"),this._v("\n三次贝塞尔曲线：C x1 y1, x2 y2, x y 关键点 S x2 y2, x y 扩展点")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",[s("code",[this._v('<defs>\n    <filter id="Gaussian_Blur">\n        <feGaussianBlur in="SourceGraphic" stdDeviation="20"/>\n    </filter>\n</defs>\n<rect x="0" y="0" width="500" height="500" fill=”yellow” style="filter:url(#Gaussian_Blur)"/>\n')])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("SVG路径动画（结合css3实现动画效果）")]),this._v(" "),s("p",[this._v("stroke-dasharray： 10px 20px 30px; 切割线段，按照10px 20px 30px的顺序，显示为\n虚线。可写多值\nstroke-dashoffset: 15px; 线段偏移效果，")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("Js操作svg")]),t._v(" "),a("p",[t._v("getTotalLength（） 获取路径总长度"),a("br"),t._v("\ngetPointAtLength(x) 获取路径上距离起始点距离x长度的点的坐标"),a("br"),t._v("\n注：严格来说上面两方法只适用于path元素，但各个浏览器实现起来都会有一点区别。例如"),a("br"),t._v("\n谷歌浏览器也能获取到line元素的路径长度。")]),t._v(" "),a("pre",[a("code",[t._v('<svg width="400" height="300" viewBox="0,0,40,30" style="border:1px solid #cd0000;">\n    <rect x="10" y="5" width="20" height="15" fill="#cd0000"/>\n</svg>\n')])]),t._v(" "),a("p",[t._v("viewBox定义了svg图内部的相对像素大小。---相对svg在浏览器上的像素，按比例放大可视区。"),a("br"),t._v("\npreserveAspectRatio(作用的对象都是viewBox)"),a("br"),t._v('\npreserveAspectRatio="xMidYMid meet"'),a("br"),t._v('\nsvg.setAttribute("preserveAspectRatio", "xMinYMin meet");'),a("br"),t._v("\n第1个值表示，viewBox如何与SVG viewport对齐（见下表）；"),a("br"),t._v("\n第2个值表示，如何维持高宽比（如果有）"),a("br"),t._v("\nmeet:保持纵横比缩放viewBox适应viewport"),a("br"),t._v("\nslice:保持纵横比同时比例小的方向放大填满viewport(在均匀缩放的同时保持viewbox的宽高比)"),a("br"),t._v("\nnone: 扭曲纵横比以充分适应viewport"),a("br"),t._v("\nhttp://www.zhangxinxu.com/study/201408/svg-preserveaspectratio-meet-slice-none.html")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("JS 生成SVG元素")]),this._v(" "),s("p",[this._v("创建SVG元素需要指定命名空间"),s("br"),this._v("\nSVG元素对象必须通过调用setAttribute()方法来设定属性值")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"audio-音频和video视频"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#audio-音频和video视频","aria-hidden":"true"}},[this._v("#")]),this._v(" Audio 音频和video视频")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("添加")]),this._v(" "),s("pre",[s("code",[this._v('<audio id="audio" src="./成都.mp3"></audio>\n<video id="video" src="./成都.mp4"></video>\n')])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("属性")]),t._v(" "),a("p",[t._v("autoplay 自动播放 → 谷歌浏览器不支持本地自动播放，必须放置在服务器上")]),t._v(" "),a("pre",[a("code",[t._v('<audio src="成都.mp3" autoplay></audio>  \n')])]),t._v(" "),a("p",[t._v("controls 设置控件 → 必须添加控件，否则音频不显示，视频不播放")]),t._v(" "),a("pre",[a("code",[t._v('<audio src="成都.mp3" autoplay controls></audio>  \n')])]),t._v(" "),a("p",[t._v("preload(none/metadata/auto) 预加载，规定是否在页面加载后载入音频"),a("br"),t._v("\n→ none 不需要加载数据，使用时再加载"),a("br"),t._v("\n→ metadata 先加载元数据（如时长、比特率、帧大小这样的原数据），再加载媒体内容"),a("br"),t._v("\n→ auto 浏览器应当加载它认为适量的媒体内容")]),t._v(" "),a("pre",[a("code",[t._v('<audio src="成都.mp3" autoplay controls preload="auto"></audio>\n')])]),t._v(" "),a("p",[t._v("loop 是否循环播放音/视频")]),t._v(" "),a("pre",[a("code",[t._v('<audio src="成都.mp3" autoplay controls loop preload="auto"></audio>\n')])]),t._v(" "),a("p",[t._v("poster (video 独有)  → 当视频不可用时，使用一张图片替代，否则是空白")]),t._v(" "),a("pre",[a("code",[t._v('<video src="成都.mp4" poster="封面.jpg" controls></video>\n')])]),t._v(" "),a("p",[t._v("source多类型资源 → 为了兼容，配置多种格式，浏览器支持哪个用哪个")]),t._v(" "),a("pre",[a("code",[t._v('<audio id="music"> \n        <source src="成都.mp3" type="audio/mpeg">\n        <source src="成都.ogg" type=\'audio/ogg"\'>\n    </audio>\n')])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("脚本化（js控制）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("获取、创建标签")]),this._v(" "),s("pre",[s("code",[this._v("var audio = document.getElementById('audio'); //video也可以用  \nvar audio = new Audio('./laojie.mp3');   //video没有构造函数，不可以用这种方法  \nvar audio = document.createElement('video'); //video也可以用\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("audio．paused 为true表示播放器暂停。"),s("br"),this._v("\naudio．seeking 为true表示播放器正在调到一个新的播放点，"),s("br"),this._v("\naudio．ended 如果播放器播放完媒体并且停下来，则ended属性为true。"),s("br"),this._v("\n应用: 通过这几个属性可以把播放暂停按钮设置为一个")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("常用事件（其它可以看具体教程）")]),this._v(" "),s("p",[this._v("play 开始播放触发"),s("br"),this._v("\npause 暂停触发"),s("br"),this._v("\nloadedmetadata 浏览器获取完媒体的元数据触发"),s("br"),this._v("\nloadeddata 浏览器已经加载完当前帧数据，准备播放时触发，注意IE8"),s("br"),this._v("\nended 当前播放结束后触发")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"requestanimationframe"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#requestanimationframe","aria-hidden":"true"}},[this._v("#")]),this._v(" requestAnimationFrame")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("requestAnimationFrame：用法和 setTimeout类似，但是不用设置时间页面刷新前执行一次"),s("br"),this._v("\n1000ms 60fps(1000ms刷新60次) ，即 每16ms刷新一次")])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",[s("code",[this._v("cancelAnimationFrame（清除requestAnimationFrame）\n")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("requestAnimationFrame兼容性写法：\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("requestAnimFrame "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("requestAnimationFrame "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("\n  window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("webkitRequestAnimationFrame "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("\n  window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mozRequestAnimationFrame "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" callback "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ncancelAnimationFrame兼容性写法：\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cancelAnimFrame "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cancelAnimationFrame "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("\n  window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("webkitCancelAnimationFrame "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("\n  window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mozCancelAnimationFrame "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"客户端存储"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#客户端存储","aria-hidden":"true"}},[this._v("#")]),this._v(" 客户端存储")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("客户端存储方法")]),this._v(" "),s("p",[this._v("Storage： 不会传到服务器"),s("br"),this._v("\nCookie：存储量小4k，每次网络请求都要将cookie发送后台影响性能，")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("storage")]),this._v("\n用法：localStroage、sessionStroage用法一样"),s("br"),this._v("\n存储方式:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",[s("code",[this._v("localStorage.name = 'aimee'\nlocalStorage自动调用tostring方法，所以传数组直接变成字符串，不能传对象，要传对象就要转成json格式。\nlocalStorage.info = JSON.stringify({name:'aimee,company: 'duyi’})\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",[s("code",[this._v("localStrorage.name\nJSON.parse(localStorage.info)\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",[s("code",[this._v("localStorage->永久的，除非手动删除\nsessionStorage->临时，窗口关闭就没有了\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",[s("code",[this._v("localStorage->文档源限制\nsessionStorage->文档源限制+窗口\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",[s("code",[this._v("localStorage. setItem(name,val) 设置属性值\nlocalStorage. getItem(name) 获得属性值\nlocalStorage. removeItem(name) 移除属性\nlocalStorage. clear() 清除属性\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"历史记录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#历史记录","aria-hidden":"true"}},[this._v("#")]),this._v(" 历史记录")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("History老对象方法：")]),this._v(" "),s("p",[this._v("history.back() 回退到上一次历史记录"),s("br"),this._v("\nhistory.forward() 前进一次历史记录"),s("br"),this._v("\nhistory.go(n) 去到一次历史记录 n可以是正 负")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("History新的方法：")]),this._v(" "),s("p",[this._v("pushState → history.pushState(state, title, url); 添加一条历史记录"),s("br"),this._v("\nreplaceState → history.replaceState(state, title, url); 替换当前的历史记录"),s("br"),this._v("\n→ state：一个与指定网址相关的状态对象，popstate事件触发时，该对象会传入回调函数中。如果不需要这个对象，此处可以填null。"),s("br"),this._v("\n→ title：新页面的标题，但是所有浏览器目前都忽略这个值，因此这里可以填null。"),s("br"),this._v("\n→ url：新的网址，必须与当前页面处在同一个域。浏览器的地址栏将显示这个网址。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("History新增的事件")]),this._v(" "),s("p",[this._v("popstate 事件 → 历史记录发生改变时触发"),s("br"),this._v("\n调用history.pushState()或者history.replaceState()不会触发popstate事件"),s("br"),this._v("\nhashchange事件 → 当页面的hash值改变的时候触发，常用于构建单页面应用")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"worker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#worker","aria-hidden":"true"}},[this._v("#")]),this._v(" worker")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",[this._v("Worker是一种异步执行js的方式")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",[this._v("结束worker"),s("br"),this._v("\nclose() 在worker作用域中调用(worker.js) 副线程上调用"),s("br"),this._v("\nterminate() 在worker对象上调用(主进程的worker对象上 worker.terminate)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",[this._v("importScripts('./math1.js','./math2.js')"),s("br"),this._v("\nworker只是window的子集，只能实现部分功能，不能获取到window, document，所以这里不要引juery zepto。可以引入一些计算类的库。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",[this._v("postMessage跨域"),s("br"),this._v("\nWindow.postMessage"),s("br"),this._v("\nIframe 子页面传递数据给父页面")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"filereader读取文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#filereader读取文件","aria-hidden":"true"}},[this._v("#")]),this._v(" FileReader读取文件")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("前言：FileReader是一种异步文件读取机制，结合input:file可以很方便的读取本地文件。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("input:file")]),this._v(" "),s("p",[this._v("input的file类型会渲染为一个按钮和一段文字。点击按钮可打开文件选择窗口，文字表示对文件的描述（大部分情况下为文件名）；file类型的input会有files属性，保存着文件的相关信息。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"file"')]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inputBox"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"file"')]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inputBox"')]),t._v(" webkitdirectory"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" reader "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileReader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("方法")]),this._v(" "),s("p",[this._v("readAsArrayBuffer(file)\t按字节读取文件内容，结果用ArrayBuffer对象表示"),s("br"),this._v("\nreadAsBinaryString(file)\t按字节读取文件内容，结果为文件的二进制串"),s("br"),this._v("\nreadAsDataURL(file)\t    读取文件内容，结果用data:url的字符串形式表示"),s("br"),this._v("\nreadAsText(file,encoding)\t按字符读取文件内容，结果用字符串形式表示"),s("br"),this._v("\nabort()\t终止文件读取操作")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("readAsDataURL和readAsText较为常用，这里只对这两者进行说明。"),s("br"),this._v("\nreadAsDataURL会将文件内容进行base64编码后输出：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" inputBox "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inputBox"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ninputBox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"change"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" reader "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileReader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readAsDataURL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("inputBox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("files"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//发起异步请求")]),t._v("\n  reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//读取完成后，数据保存在对象的result属性中")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"file"')]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inputBox"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("img src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"img"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" inputBox "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inputBox"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" img "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"img"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ninputBox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"change"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" reader "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileReader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readAsDataURL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("inputBox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("files"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//发起异步请求")]),t._v("\n  reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//读取完成后，将结果赋值给img的src")]),t._v("\n    img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("result\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("事件")]),this._v(" "),s("p",[this._v("onabort\t当读取操作被中止时调用\nonerror\t当读取操作发生错误时调用\nonload\t当读取操作成功完成时调用\nonloadend\t当读取操作完成时调用，无论成功或失败\nonloadstart\t当读取操作开始时调用\nonprogress\t在读取数据过程中周期性调用")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" inputBox "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inputBox"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" count"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ninputBox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"change"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" reader "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileReader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readAsText")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("inputBox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("files"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"utf-8"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//发起异步请求")]),t._v("\n  reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"加载成功"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onloadstart")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"开始加载"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onloadend")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"加载结束"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onprogress")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    count"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"加载中"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("每过50ms左右，就会触发一次progress事件，对于较大的文件可以利用progress实现进度条；onload事件在onloadend之前触发。"),s("br"),this._v("\n由于种种原因无法读取文件时，会触发error事件。触发error事件时，相关信息保存在FileReader对象的error属性中，这个属性将保存一个对象，此对象只有一个属性code，即错误码。1表示未找到文件，2表示安全性错误，3表示读取中断，4表示文件不可读，5表示编码错误。"),s("br"),this._v("\n如果想中断读取过程，可以调用abort方法，就会触发abort事件。"),s("br"),this._v("\n无论触发load，error，abort事件中哪一个，最终都会触发loadend事件。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("file分割文件方法slice"),s("br"),this._v("\n实现分段读取")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"websocke"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#websocke","aria-hidden":"true"}},[this._v("#")]),this._v(" WebSocke")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WebSocket 是什么？")]),this._v(" "),s("p",[this._v("WebSocket 是一种网络通信协议。RFC6455 定义了它的通信标准。"),s("br"),this._v("\nWebSocket 是 HTML5 开始提供的一种在单个 TCP 连接上进行全双工通讯的协议。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("为什么需要 WebSocket ？")]),this._v(" "),s("p",[this._v("了解计算机网络协议的人，应该都知道：HTTP 协议是一种无状态的、无连接的、单向的应用层协议。它采用了请求/响应模型。通信请求只能由客户端发起，服务端对请求做出应答处理。"),s("br"),this._v("\n这种通信模型有一个弊端：HTTP 协议无法实现服务器主动向客户端发起消息。"),s("br"),this._v("\n这种单向请求的特点，注定了如果服务器有连续的状态变化，客户端要获知就非常麻烦。大多数 Web 应用程序将通过频繁的异步JavaScript和XML（AJAX）请求实现长轮询。轮询的效率低，非常浪费资源（因为必须不停连接，或者 HTTP 连接始终打开）。"),s("br"),this._v("\n因此，工程师们一直在思考，有没有更好的方法。WebSocket 就是这样发明的。WebSocket 连接允许客户端和服务器之间进行全双工通信，以便任一方都可以通过建立的连接将数据推送到另一端。WebSocket 只需要建立一次连接，就可以一直保持连接状态。这相比于轮询方式的不停建立连接显然效率要大大提高。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WebSocket 如何工作？")]),this._v(" "),s("p",[this._v("Web浏览器和服务器都必须实现 WebSockets 协议来建立和维护连接。由于 WebSockets 连接长期存在，与典型的HTTP连接不同，对服务器有重要的影响。基于多线程或多进程的服务器无法适用于 WebSockets，因为它旨在打开连接，尽可能快地处理请求，然后关闭连接。任何实际的 WebSockets 服务器端实现都需要一个异步服务器。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("在客户端，没有必要为 WebSockets 使用 JavaScript 库。实现 WebSockets 的 Web 浏览器将通过 WebSockets 对象公开所有必需的客户端功能（主要指支持 Html5 的浏览器）。")]),s("br"),this._v(" "),s("strong",[this._v("客户端 API")]),s("br"),this._v("\n以下 API 用于创建 WebSocket 对象。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" Socket "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WebSocket")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("protocol"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WebSocket 属性")]),this._v(" "),s("p",[s("em",[this._v("Socket.readyState")]),s("br"),this._v("\n只读属性 readyState 表示连接状态，可以是以下值：0 - 表示连接尚未建立。1 - 表示连接已建立，可以进行通信。2 - 表示连接正在进行关闭。3 - 表示连接已经关闭或者连接不能打开。"),s("br"),this._v(" "),s("em",[this._v("Socket.bufferedAmount")]),s("br"),this._v("\n只读属性 bufferedAmount 已被 send() 放入正在队列中等待传输，但是还没有发出的 UTF-8 文本字节数。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WebSocket 事件")]),this._v(" "),s("p",[this._v("open-------Socket.onopen------连接建立时触发"),s("br"),this._v("\nmessage---Socket.onmessage--客户端接收服务端数据时触发"),s("br"),this._v("\nerror-------Socket.onerror-------通信发生错误时触发"),s("br"),this._v("\nclose-------Socket.onclose-------连接关闭时触发")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WebSocket 方法")]),this._v(" "),s("p",[this._v("Socket.send()------使用连接发送数据"),s("br"),this._v("\nSocket.close()------关闭连接")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化一个 WebSocket 对象")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ws "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WebSocket")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ws://localhost:9998/echo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 建立 web socket 连接成功触发事件")]),t._v("\nws"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onopen")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 send() 方法发送数据")]),t._v("\n  ws"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"发送数据"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"数据发送中..."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 接收服务端数据时触发事件")]),t._v("\nws"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onmessage")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("evt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" received_msg "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" evt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"数据已接收..."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 断开 web socket 连接成功触发事件")]),t._v("\nws"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onclose")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"连接已关闭..."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WebSocket 服务端")]),this._v(" "),s("p",[this._v("WebSocket 在服务端的实现非常丰富。Node.js、Java、C++、Python 等多种语言都有自己的解决方案。"),s("br"),this._v("\n学习node时补充此部分")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("学习移动端时再补充")]),this._v(" "),s("p",[this._v("geolocation\ndevicemotion\ndeviceorientation")])])}],!1,null,null,null);s.default=e.exports}}]);